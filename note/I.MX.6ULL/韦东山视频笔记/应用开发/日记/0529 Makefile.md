# Makefile语法

## 通配符
- %.o 表示所有以.o作为结尾的目标文件
- $@  表示目标
- $<  表示第一个依赖文件
- $^  表示所有依赖文件

## 假想目标

![[Pasted image 20250529223805.png]]
该选项关系到make的使用方法

直接执行make命令的时候，会选择规则文件中的第一个目标，进行生成。

若是make后面带目标，比如`all`、`clean`
则会单独执行该规则

**上图中的写法，若是当前目录下存在`clean`文件，则无法执行`make clean`**
此时可以使用假想目标符号：`.PHONY`
其操作如下：
![[Pasted image 20250529224256.png]]

## 变量

赋值符号：
- `:=` 
	- 即时变量
- `=`
	- 延时变量
- `?=`
	- 延时变量(第一次赋值起效，若是前面赋值过则不起效)
- `+=`
	- 附加，它是即时变量还是延时变量取决于前面的定义

变量的引用方法：`$(var)`


### 即时变量

即时变量定义方法：A := Var
说明：
	即时变量会在定义赋值的一瞬间直接赋值

### 延时变量

定义方法：B = Var
说明：
	延时变量会在使用到的时候才进行赋值








